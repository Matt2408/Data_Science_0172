# Portfolio Data Science
Name: Matthew Turkenburg  <br />
Studentnumber: <br />
Course: Applied Data Science Minor<br />
Lecturers: Jeroen Vuurens, Gerda in 't Veld, Tony Andrioli, Ruud Vermeij, Brian de keijzer

## Project ActivPal

### Research project
### Task Definition
In this portfolio you can read all my individual work to the ActivePal project for the minor Data Science. 

In project ActivePal we are trying to help Het Centraal Bureau voor de Statistiek (CBS) with their problem. Currently they experiencing issues with measuring if their target audience has moved for atleast 150 minutes a week while doing moderate physical activity's. At the moment they measure this by manually giving out health surveys but the results of this are not good enough. People seem to be bad at estimating how much time they have spend doing moderate physical activity's. 

To help CBS out, our group got formed and based on the problem, project domain and input from the productowner, the following research question is made:

> <b> How can Machine Learning be used to determine whether people did their 150 minutes of moderate activity in ActivPal accelerometer data of an entire week? </b>

To answer this questions we decided that we first had to answer the following two sub questions (in order).

><b>How can Machine Learning be used to predict the intensity of activities performed in a lab situation by a person, who is being monitored with Vyntus One and wearing ActivPal accelerometer?  <br /><br />
How can Machine Learning be used to predict the intensity of activities performed by a person wearing only the ActivPal accelerometer, based on the data gathered from Vyntus One and ActivPal accelerometer in the lab situation? </b>




<details> <summary>Reseach plan</summary>
Personally I took the job on me to make sure that every member of the projectgroup had a clear understanding of the project. To do this I wanted to create the first iteration of the research plan. In this research plan members would be able to get a more knowledge of the given task by CBS, read the research questions and read what exactly we do for the work planning. Based on the research plan that I made people were able to make new iterations of the reseach questions and were able to read the exact task that CBS gave us.    

You can find my iteration of the research plan [here](/Evidence/Research%20Project/Research%20plan%20by%20Matt%20V1.pdf)

The research plan helped the group to understand the problem domain, discuss about the research questions and rethink our way of doing about the subject planning. 

</details>

### Planning
At the beginning of the project the group decided unanimously that we wanted to work in an agile way. Because of that we decided that we wanted to follow philosophy of Scrum, but didn't want to follow every rule exact, this means that there was some flexibility on our side. Within the group we decided that we wanted to have sprints of two weeks and ending the sprint with a retrospective. At every retrospective I (and my group members) gave my feedback based on the progress. More about the planning can be read down below in the sub paragraph: Research plan - planning (written by me).


<details> <summary>Jira</summary>
As a group everybody was responsible to keep track of the Jira board. I saw this task as really important because it's important that everybody has knowledge what you are doing, and what the current status is. It also gave the opportunity to people to take tasks that were sitting still.

Within the group we decided that Ali Safdari would be the Jira master. This means that he would take the lead assigning tasks, keeping track of the progress and the board. I tried to assist him  as much as I could by managing my own tasks, and keeping the status of my tasks up to date. Below you can read our sprint log of all the sprints that have been concluded. In the pictures you can clearly see that I have been attributing to the Jira board in a positive way throughout the project. 

The sprint log doesn't show a good example what exactly has been done by the invidiual persons, however it does show that I contributed to managing and helping the Jira planning.

<b>Jira sprint 1<br />
[![Sprint1.png](https://i.postimg.cc/256hF4rC/Sprint1.png)](/Evidence/Research%20Project/Jira%20bewijs/Sprint1.png)
Jira sprint 2<br />
[![Sprint2.png](https://i.postimg.cc/fytJJKcr/Sprint2.png)](https://postimg.cc/vxyQK5Sr)
Jira sprint 3<br />
[![Sprint3.png](https://i.postimg.cc/9FsnktLF/Sprint3.png)](https://postimg.cc/HV4zc5Gf)
Jira sprint 4<br />
[![Sprint4.png](https://i.postimg.cc/cC3dq4Gv/Sprint4.png)](https://postimg.cc/m1TvC4D4)
Jira sprint 5<br />
[![Sprint5.png](https://i.postimg.cc/dQZCQ2qy/Sprint5.png)](https://postimg.cc/Jtm0PBHr)
Jira sprint 6<br />
[![Sprint6.png](https://i.postimg.cc/dtM5JtKJ/Sprint6.png)](https://postimg.cc/CdNGN012)
</b>
</details>

<details> <summary>Research plan - Planning</summary>
In the research plan I wrote a section about our planning. This planning was used to help people understand our way of working. I made the first iteration of this section, later on in the project my contrubition helped Colin with the second and final iteration of this section for the final research plan.

You can find my iteration of planning (inside the research plan) [here](/Evidence/Research%20Project/Research%20plan%20by%20Matt%20V1.pdf)
</details>

<details> <summary>Daily stand-up/retrospective</summary>
<b>Daily standup </b><br />
To manage the project as good as we can, we kept daily standups every day since the beginning of the project in week 1. In the standup we would discuss our progress, what we have done, issues and what you are going to do next. In my opinion was this part of the project really important to keep track of our progress and help us to determine our next steps.

I couldnt really find great proof of those stand-ups except all the meetings in the teams environment. All teachers should have access to this environment to verify all our daily work. 

<b>Retrospective </b><br />
At the end of every sprint (every two weeks), the group would do a scrum retrospective. In this retrospective we would look back at the Jira board and discuss the sprint progress. What tasks are done, what should we focus next week and what are the issues that didn't get solved. Every retrospective was always with the whole team, this meant that it was also the moment that we were able to discuss issues within the team and to describe actionpoints for the upcoming sprint.

Examples of real actionpoints are:
- Being on time on the daily standup
- Being more active in meetings with CBS/teachers
- Giving more information at the standups


</details>


### Conclusions
<details> <summary>Conclusions</summary>
For the conclusion of our research we had decided to divide this into two parts. One scientific conclusion that I didn't write and one conclusion to CBS and their colleagues to explain our results. Since I was still in contact with CBS to discuss the handover of documents and results. I decided to give them a clear conclusion of our results. You can find the document in which I explain our project conclusions to CBS.   

</br>

Click [here for the document](/Evidence/Research%20Project/Conclusions%20to%20CBS.pdf)

</details>

### Evaluation [TO DO]
<details> <summary>Evaluation</summary>

[More Examples](topics/research_project/planning.md)

</details>

## Domain knowledge
For every research you want to do, you would need to get a certain level of domain knowledge. I wanted to create such domain knowledge by researching similiair researches. But this wasn't enough, I also had to research documents delivered by our project owner (CBS) to fully understand in what domain we were working in. By combining the knowledge from the given documents and the found literature I was able to write down a subject field document, document my literature findings and document the terminology, jargon and definitions that I had found on the way. This document helped myself and my group members to understand the domain.
### Introduction of the subject field
Below you can read the subject field, based all the findings while working on the project.
<details> <summary>More about the subject field</summary>
Statistics Netherlands (CBS) has the wish to see if their respondents are moving for at least 150 minutes per week in moderately intense physical activity.  

Currently, they are measuring by asking their respondent or health surveys. The issue with this is that people are not very good at estimating the time they spent on moving and sport. This of course causes that they don't have very reliable data to work with.  Therefor CBS has been looking into alternatives like the accelerometer in combination with machine learning to give better and more accurate results when measuring the intensity of certain activities. After doing extensive research CBS concluded that the ActivPal accelerometer would give the best results when looking into recognizing activities and the intensity of those activities, therefor CBS have chosen to do further research to find out how the combination of the ActivPal accelerometer in combination with machine learning can predict if respondents have done their moderate physical activity for 150 minutes per week.
Because of this the CBS started to collect lab tests and started to measure the movements of 41 correspondents in their regular workweek by using the Activepal Accelerator. The group of correspondents exist of the age 21 to 82 and varies between correspondents that are fit, and are not fit. 
 
It's our job to analyse, structure and build machine learning algorithms based on the collected data to see if we can determine if people adhere to (inter)national norm for physical activities and if we could measure the intensity of movement (without the heart rate information). CBS have chosen to use machine learning because they did pre research with the current dataset and came to the conclusion that machine learning would be the best fit to come to certain conclusions. 
To make sure that this project won’t research the wrong subjects or goes out of scope. The project group and CBS have set a clear scope in which research will be done. The following topics will be researched. 

-	How can Machine Learning be used to predict the intensity of activities performed in a lab situation by a person, who is being monitored with Vyntus One and wearing ActivPal accelerometer?  
-	How can Machine Learning be used to predict the intensity of activities performed by a person wearing only the ActivPal accelerometer, based on the data gathered from Vyntus One and ActivPal accelerometer in the lab situation?  
-	How can Machine Learning be used to determine whether people did their 150 minutes of moderate activity in ActivPal accelerometer data of an entire week?


</details>

### Literature research
In this part of the chapter you can find some of the literature findings that I have done while researching the project domain. I only wrote down the most important findings from the papers that we could use for the project domain or for writing the paper in the future. 
<details> <summary>The accelerometer project findings lab research 1.0</summary>
This paper is focused on finding the most accurate classification based on machine learning used different kinds of accelerator sensors. But in my opinion the paper gives great insights about the following topics. 

<b>3.6 Estimating Intensity (energy expenditure)<br /></b>
While scanning this paper the first thing that really sticked out for me was chapter 3.6 Estimating Intensity (energy expenditure). This chapter explains what they have used to measure intensity. In the case of this paper they used Metabolic Equivalent or Task (MET), otherwise known as EE / MUMR. Where EE stands for Energy Expenditure and BUMR stands for the base metabolic rate per kg and time unit. Basically you can say EE is the number of calories burned during an activity. The best way to calculate MET is by using VO2, but other options are possible.

<b>3.2 Validation<br /></b>
Since this research paper is made by the CBS, and they are going to use the same correspondents as we do. We could look into the way they validated their project. In chapter 3.2 Validation, they explain how they build their test and training set and what values they used. In the case of this paper they used a training set of 60% based off their total dataset. 

<b>3.4 Metrics</b><br />
CSB tested their work on the following metrics: Accuracy, Precision, recall and F1 score. They don’t mention if they used any other metrics. 

<b>5.2 Scatterplots for specific respondents</b> <br />
CBS mentions in their paper that there have been a phenomenon that occurs for almost all respondents. What is happening is that the when a respondent is doing an activity and switches to a different activity. As example from standing to walking the heart rate goes down while the VO2 intake goes up. CBS states that this is very strange since they would expect the heart rate to go up as well. 

<b>Conclusions</b><br />
-All MAD intensity estimates seem to overestimate the intensity of jerky activities and do not record how much static force the body exerts on the environment.  
-ActivPAL registers the approximate intensity of cycling well, but is not accurate enough to distinguish between light and heavy cycling. ActivePAL also overestimates the intensity of low intensity activities.  


</details>
<details> <summary>Beweegonderzoek</summary>
Deze paper onderzoekt in hoeverre er een verband is tussen MET en acceleratie. Hierbij wordt gebruik gemaakt van dezelfde dataset die bij ons project wordt toegepast. In deze paper wordt beschreven welke stappen zijn gevolgd om de data uit te lezen , op te schonen en te kunnen worden geanalyseerd. Bij de analyse lag de focus voornamelijk op de MET value. 

Uit dit onderzoek bleek dat zitten een gemiddelde MET score had van 1.5 en staan een gemiddelde van 1.6. Fietsen zwaar en fietsen licht kwamen erg bij elkaar in de buurt met een MET value van 6 en van 5. 

Tijdens het onderzoek is naar voren gekomen dat sommige activepal bestande niet bestaan, ook zijn er verschillen te vinden tussen de verschillende vyntus metingen. 

De accelerators gaan niet altijd terug naar de nulwaarde van de accelerator waardoor het voor kan komen dat bij rustige activiteiten zoals zitten en staan, de waarde boven de 1 MET kan komen. 

Doordat het aantal testpersonen niet op grote schaal was uitgezet, zorgde dit ervoor dat de resultaten misschien wel accuraat waren, maar niet konden worden getest met de werkelijkheid.



</details>
<details> <summary>Measurement of Phy 2016</summary>
<b>Measurement</b><br />
In this paper it explains how physical activity get measured using accelerometers. The first topic being discussed is how acceleration is measured by using the following formula (acceleration = velocity/time). This acceleration is frequently expressed in the meters per square second or by using g-force. G-Force stands for 1 g = 9.8m/s (force of gravity).

<b>Epochs </b><br />
Epochs are specific time intervals for which counts are summed for data analyses. Epochs are not always the same but are depending on the amount of data and depend on the population (different epochs for children/eldery) .
In our project we are working with adults and elders. Because of this it’s recommend to use epochs of 60 seconds. (Copeland & Esliger, 2009; Freedson et al., 1998; Hendelmanet al., 2000; Miller, Strath, Swartz, & Cashin, 2010; Sasaki et al., 2011;Swartz et al., 2000);

<b>Intensity of movement (Figure 2.2)</b><br />
This paper uses a combination of counts and MET values to determine if an activity is moderate/low/high. They count the amount of data point in one minute and use cut-off points with different categories to see how intensive an activity is. 


</details>
<details> <summary>MET Calculations from On-Body Accelerometers</summary>
This paper tries to use on-body accelerometers to measure activity/met while doing activity’s. To do this they used approximations they measured and compare those to known MET scores. In the paper they describe there are other ways to measure this without accelerometers by using the heart rate or using VO2. Like I have mentioned in the other conclusions of the papers, they are using cut of points based on MET values to determine what kind of activity has been done (and how intense). 


</details>
<details> <summary>Physical activity recognition</summary>
This paper goes to the basics of physical activity. It explains how physical activity can be defined: As any voluntary body movement generated by the contraction of skeletal muscles resulting in energy expenditure. 
It also explains how to measure physical activity, to conclude this subject they use regular accelerometers, Piezoelectric accelerometers and capactive accelerometers. They also mention how you can estimate the energy expenditure using accelerometers. They mention that you can use MET and use features like length, weight, BMI and even body composition (fat and lean mass). 



</details>

### Explanation of Terminology, jargon and definitions
In this part you can read some of my documented terminology, jargon and definitions that I have found while working on the project.
<details> <summary>Explanation of Terminology, jargon and definitions</summary>

###Introduction
In this document you can find the explanation of the Terminology, jargon and definitions. This can be used to give more insight into the terms that have been used trough this project.

Accelerometer - is a tool that measures proper acceleration. <br />
ActivPAL accelerometer – captures body posture and transition between these postures, stepping, and stepping speed (cadence).<br />
Vyntus – Document that contains the lab data of the Vyntus sensor, which measures the O2 uptake and the CO2 production.<br />
Dataframe - A table of data with rows and columns.<br />
Data cleaning - is the process of detecting and correcting (or removing) corrupt or inaccurate records from a record set, table, or database.<br />
Resampling – Changing the timeseries.<br />
BMI (body mass index) - is the value derived from the mass and height of a person.<br />
Metabolic rate – The rate of energy usage by the body.<br />
MET - The ratio of the work metabolic rate to the resting metabolic rate.<br />
Correlation – Measurement of the extent to which to variables are related.<br />
Epoch – a particular period of time.<br />
Feature – An individual measurable object / characteristic of something that being used.<br />
Seed – A random number generated by software based on a static number (the seed).<br />
Precision - The accuracy of the measurement of the results to be true.<br />
Recall – The ability of a model to find all relevant cases within the dataset.<br />
Dice Face – The face the accelerator is moved looking towards (north side, south side) expressed into the numbers 1-6 (up, down, left, right, etc).<br />
Thresholding - The knock off criteria based on a certain object/feeling/number<br />
Lab data – fully labelled data, which was received and processed in the lab. Plus, literature (on off cut values), the manufacturers' summary information, open-source software.<br />
Raw data – is unprocessed computer data.<br />
Outliers – A data point that differs significantly from other observations.<br />
Research plan – is a short document, which sets out the initial thoughts on a research project in a logical and concise manner. It contains the research question, the hypothesis, aims and objectives, research design.<br />
Linear regression - attempts to model the relationship between two variables by fitting a linear equation to observed data. One variable is an explanatory variable, and the other is a dependent variable. For example, a modeler might want to relate the weights of individuals to their heights using a linear regression model.<br />
Decision tree model - is a machine learning algorithm that partitions the data into subsets. The partitioning process starts with a binary split and continues until no further splits can be made. Various branches of variable length are formed.<br />
Random forest model - a supervised learning algorithm. The "forest" it builds, is an ensemble of decision trees, usually trained with the “bagging” method. The general idea of the bagging method is that a combination of learning models increases the overall result.<br />
Peak-to-peak amplitude – is the change between peak (highest amplitude value) and through (lowest amplitude value, which can be negative).<br />
Acceleration – The measurement of an object it’s velocity.<br />
G-Force – The gravitational force of the earth’s surface. One g is the same as 9.8m/s<br />
Kcal (calorie) – Kcal is a measurement of energy. Known from Latin, warmth.<br />
Physical activity – Any movement done by the construction of the skeletal muscles of the body.<br />
Light-intensity Physical activity – Activity’s with a MET value between 1.5 and 3. <br />
Moderate-intensity Physical activity - Activity’s with a MET value between 3 and 6.<br />
Vygorous-intensity Physical activity - Activity’s with a MET value above 6.<br />
Vo2 – Oxygen consumption by breathing spicy. <br />

</details>

## Data preprocessing
<details> <summary>Data exploration</summary>

[More Examples](topics/data_preprocessing/data_exploration.md)

</details>

<details> <summary>Data cleaning</summary>

[More Examples](topics/data_preprocessing/data_cleaning.md)

</details>

<details> <summary>Data preparation</summary>

[More Examples](topics/data_preprocessing/data_preparation.md)

</details>

<details> <summary>Data visualization</summary>

[More Examples](topics/data_preprocessing/data_visualization.md)

</details>


## Predictive Analytics

<details> <summary>selecting a model</summary>

[More Examples](topics/data_preprocessing/selecting_a_model.md)

</details>

<details> <summary>training model</summary>

[More Examples](topics/data_preprocessing/training_model.md)

</details>

<details> <summary>evaluating a model</summary>

[More Examples](topics/data_preprocessing/evaluating_a_model.md)

</details>

<details> <summary>Visualizing the outcome of a model</summary>

[More Examples](topics/data_preprocessing/visualizing_the_outcome_of_a_model.md)

</details>

<details> <summary>configuring a model</summary>

[More Examples](topics/data_preprocessing/configuring_a_model.md)

</details>

### Communication
Within our project we decided that one member of the project team would take the roll of the communicater. The communicater roll had to do:

- Communicate with the teachers in behalf of other group members
- Communicate with the CBS in behalf of the other group members
- Planning of meetings with CBS/teachers

So whenever we would have questions, you would hand those over to the communicater and he would contact both parties to find the answers. As a group we decided that Colin would take the roll of the communicater for the first part of the project. In the second part of the project we decided that I would take this roll on me till the end of the project. I found out that I was mostly emailing questions, setting up meetings and making sure that CBS had no further questions to us. 


<details> <summary>Presentation</summary>
Within our group we made a  planning who, would when do the different presentations. Because I study Business IT & Management, I had quite a lot of experience with doing presentations. I also really liked giving the presentations because it showed everybody exactly what we did the last week. Because of this I gave in total 4 presentations, you can see links of all of them below. Most of the presentations were made as a group. In some cases some groupmembers added more content then others  (depending on the week). For the presentations that I gave, I always verified the content and tried to add more content.

- Presentations that I gave
  - [Internal Presentation 2](/Evidence/Presentations/Internal%20Presentations%20%232.pdf)
  - [Internal Presentation 8](/Evidence/Presentations/Internal%20Presentation%20%238_Matt.pdf)
  - [Internal Presentation_17]()
  - [External Presentation 3](/Evidence/Presentations/External%20Presentation%20%2313%20-%20Matthew.pptx)
  
- Presentations were I applied most content
  - [External Presentation 1](/Evidence/Presentations/External_presentation_1_MAKING.pdf)
  - [External Presentation 2](Research%20Project/External_presentation_2_MAKING.pdf)

</details>

<details> <summary>Paper</summary>
Add content here

</details>

<details> <summary>Emailing</summary>
As communicater I had to communicate with CBS quite often. The topics discussed were mostly about meetings, questions from us, questions from CBS and showing the progress of our project. 

Examples of emails:

* [Link](/Evidence/Communicatie/Communication_proof_CBS.pdf)
</details>

## Datacamp
Within this Minor I have been doing Data Camp to learn more about Data Science. In this chapter you can find all the courses that I have finished while doing the Minor. 

|Course|Statement of Accomplishment|
 |------|---------------------------|
 | Introduction to python |[proof]()|
 | Python Data Science Toolbox (Part 1) |[proof]()|
 | Intermediate Python |[proof]()|
 | Python Data Science Toolbox (Part 2) |[proof]()|
 | Pandas Foundations |[proof]()|
 | Introduction to Data Visualization in Python |[proof]() |
 | Manipulating Dataframes with pandas |[proof]()|
 | Data Types for Data Science in Python |[proof]()|
 | Cleaning data in Python |[proof]()|
 | Preprocessing for Machine Learning in Python |[proof]()|




 
<details> 
<summary>Summary proof </summary>

![Images]()

</details>

